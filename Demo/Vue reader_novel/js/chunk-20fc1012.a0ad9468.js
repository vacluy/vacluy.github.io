(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20fc1012"],{"113c":function(t,e,i){t.exports=i.p+"img/default.6efdc028.png"},1148:function(t,e,i){"use strict";var a=i("a691"),n=i("1d80");t.exports="".repeat||function(t){var e=String(n(this)),i="",c=a(t);if(c<0||c==1/0)throw RangeError("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(e+=e))1&c&&(i+=e);return i}},"1ecb":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("NavHead"),i("div",{staticClass:"rank"},[i("div",{staticClass:"rank-main-title"},[i("ul",{staticClass:"main-title"},t._l(t.maintitle,(function(e,a){return i("li",{key:a,staticClass:"main-title_item",class:{active:e.active},on:{click:function(e){return t.changeMainActive(a)}}},[i("span",[t._v(t._s(e.text))])])})),0)]),i("div",{staticClass:"rank-subtitle"},[i("ul",{staticClass:"subtitle"},t._l(t.currentSubtitle,(function(e,a){return i("li",{key:a,staticClass:"subtitle_item",class:{active:e.active},on:{click:function(e){return t.changeSubtitle(a)}}},[i("span",[t._v(t._s(e.shortTitle))])])})),0),i("ul",{staticClass:"books"},t._l(t.currentBooks,(function(t,e){return i("BookCard",{key:e,attrs:{item:t}})})),1)])])],1)},n=[],c=(i("4160"),i("159b"),i("5530")),r=i("c793"),o=i("2f62"),s=i("6e87"),u=i("4ec3"),l=i("4360"),f=i("475c"),v={name:"BookRank",components:{NavHead:r["a"],BookCard:f["a"]},data:function(){return{maintitle:[],currentSubtitle:[]}},computed:Object(c["a"])({},Object(o["d"])({currentBooks:function(t){return t.currentRankBooks}})),methods:Object(c["a"])(Object(c["a"])({},Object(o["b"])([s["a"].GET_RANK_BOOKS])),{},{changeMainActive:function(t){var e=this;this.maintitle.forEach((function(i,a){i.active=!1,t==a&&(i.active=!0,e.currentSubtitle=i.subtitle,e.currentSubtitle.forEach((function(t){t.active&&e[s["a"].GET_RANK_BOOKS]({id:t._id})})))}))},changeSubtitle:function(t){var e=this;this.currentSubtitle.forEach((function(i,a){i.active=!1,t==a&&(i.active=!0,e[s["a"].GET_RANK_BOOKS]({id:i._id}))}))}}),watch:{currentSubtitle:function(t,e){e.forEach((function(t,e){t.active=0==e}))}},beforeRouteEnter:function(t,e,i){var a=JSON.parse(localStorage.getItem("rankSubtitle")),n=[{text:"男频",target:"male",active:!0,subtitle:[]},{text:"女频",target:"female",active:!1,subtitle:[]},{text:"出版",target:"epub",active:!1,subtitle:[]}];a&&a.expires>Date.now()?(n.forEach((function(t){var e=a.data[t.target];e.forEach((function(t,e){t.active=0==e})),t.subtitle=e})),l["a"].dispatch(s["a"].GET_RANK_BOOKS,{id:n[0].subtitle[0]._id}),i((function(t){t.maintitle=n,t.currentSubtitle=n[0].subtitle}))):(l["a"].state.loading=!0,Object(u["c"])("http://novel.kele8.cn/rank-category").then((function(t){localStorage.setItem("rankSubtitle",JSON.stringify({expires:Date.now()+2592e5,data:t.data})),n.forEach((function(e){var i=t.data[e.target];i.forEach((function(t,e){t.active=0==e})),e.subtitle=i})),l["a"].dispatch(s["a"].GET_RANK_BOOKS,{id:n[0].subtitle[0]._id}),l["a"].state.loading=!1,i((function(t){t.maintitle=n,t.currentSubtitle=n[0].subtitle}))})).catch((function(t){console.log(t),l["a"].state.loading=!1})))}},h=v,b=(i("78f9"),i("2877")),d=Object(b["a"])(h,a,n,!1,null,"006c4fa9",null);e["default"]=d.exports},3178:function(t,e,i){},"408a":function(t,e,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"475c":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{on:{click:function(e){return t.routeTo(t.item._id)}}},[a("div",{staticClass:"book-img"},[a("img",{staticClass:"auto-img",attrs:{src:"http://statics.zhuishushenqi.com"+t.item.cover}})]),a("div",{staticClass:"book-content"},[a("div",{staticClass:"book-title"},[t._v(t._s(t.item.title))]),a("div",{staticClass:"book-text"},[t._v(" "+t._s(t.item.shortIntro?t.item.shortIntro:""!=t.item.longIntro?t.item.longIntro:"暂无描述...")+" ")]),a("div",{staticClass:"book-author"},[a("div",{staticClass:"author-left"},[a("img",{staticClass:"auto-img",attrs:{src:i("113c")}}),a("span",{staticClass:"author"},[t._v(t._s(t.item.author))])]),a("div",{staticClass:"author-right"},[t.item.minorCate?a("span",{staticClass:"book-tag"},[t._v(t._s(t.item.minorCate))]):t._e(),a("span",{staticClass:"book-tag special"},[t._v(t._s(t.followerCount))])])])])])},n=[],c=(i("b680"),{name:"BookCard",props:{item:Object},computed:{followerCount:function(){return(this.item.latelyFollower/1e4).toFixed(1)+"万人气"}},methods:{routeTo:function(t){this.$router.push({name:"BookDetail",params:{id:t}})}}}),r=c,o=(i("a3e0"),i("2877")),s=Object(o["a"])(r,a,n,!1,null,"2376b5be",null);e["a"]=s.exports},"65ce":function(t,e,i){"use strict";var a=i("3178"),n=i.n(a);n.a},"78f9":function(t,e,i){"use strict";var a=i("b2ba"),n=i.n(a);n.a},a3e0:function(t,e,i){"use strict";var a=i("c917"),n=i.n(a);n.a},b2ba:function(t,e,i){},b680:function(t,e,i){"use strict";var a=i("23e7"),n=i("a691"),c=i("408a"),r=i("1148"),o=i("d039"),s=1..toFixed,u=Math.floor,l=function(t,e,i){return 0===e?i:e%2===1?l(t,e-1,i*t):l(t*t,e/2,i)},f=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},v=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){s.call({})}));a({target:"Number",proto:!0,forced:v},{toFixed:function(t){var e,i,a,o,s=c(this),v=n(t),h=[0,0,0,0,0,0],b="",d="0",m=function(t,e){var i=-1,a=e;while(++i<6)a+=t*h[i],h[i]=a%1e7,a=u(a/1e7)},_=function(t){var e=6,i=0;while(--e>=0)i+=h[e],h[e]=u(i/t),i=i%t*1e7},p=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+r.call("0",7-i.length)+i}return e};if(v<0||v>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(b="-",s=-s),s>1e-21)if(e=f(s*l(2,69,1))-69,i=e<0?s*l(2,-e,1):s/l(2,e,1),i*=4503599627370496,e=52-e,e>0){m(0,i),a=v;while(a>=7)m(1e7,0),a-=7;m(l(10,a,1),0),a=e-1;while(a>=23)_(1<<23),a-=23;_(1<<a),m(1,1),_(2),d=p()}else m(0,i),m(1<<-e,0),d=p()+r.call("0",v);return v>0?(o=d.length,d=b+(o<=v?"0."+r.call("0",v-o)+d:d.slice(0,o-v)+"."+d.slice(o-v))):d=b+d,d}})},c793:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"nav-head"},[i("div",{staticClass:"nav-title"},[t._v(" "+t._s("书架"==t.title?"我的":"")+t._s(t.title)+" ")]),i("van-icon",{staticClass:"search-icon",attrs:{name:"search"},on:{click:t.routeToSearch}})],1)])},n=[],c=i("5530"),r=i("2f62"),o={name:"NavHead",computed:Object(c["a"])({},Object(r["d"])({title:function(t){return t.navActive}})),methods:{routeToSearch:function(){this.$router.push({name:"Search"})}}},s=o,u=(i("65ce"),i("2877")),l=Object(u["a"])(s,a,n,!1,null,"68e381f2",null);e["a"]=l.exports},c917:function(t,e,i){}}]);
//# sourceMappingURL=chunk-20fc1012.a0ad9468.js.map